%script{src: "http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"}
%script{src: "http://ajax.googleapis.com/ajax/libs/jqueryui/1/i18n/jquery.ui.datepicker-ja.min.js"}
%link{href: "http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/redmond/jquery-ui.css", rel: "stylesheet"}/

= form_with model: @diary , data: { remote: false }, class: "common-form" do |diary|
  - if @diary.errors.any?
    .form__errors
      %h2= "#{@diary.errors.full_messages.count}件のエラーが発生しました。"
      %ul
        - @diary.errors.full_messages.each do |message|
          %li= message
  .common-form__date
    = diary.text_field :entry_on,placeholder:"2019/10/28", id:'datepicker', value: Date.today.strftime('%Y/%m/%d')
    = diary.label '開始日',for:'datepicker'
    .common-form__date--description クリックするとカレンダーが表示されます
  .common-form__searchbox
    %input#food-search__field.food-search__input{placeholder: "追加したいフードを入力してください", type: "text"}
    %label{for:'food-search__field'} 検索
    %ul.food-search__suggest.form-suggest-list
  .common-form__foodsheet
    %table.msr_table03
      %thead
        %tr.food-record{data:{id:"0"}}
          %th フード
          %th 量
          %th 単位あたりのg
          %th カロリー(kcal)
          %th たんぱく質(g)
          %th 脂質(g)
          %th 炭水化物(g)
      = diary.fields_for :diaryfoods do |diaryfood|
        %tbody.food_added__table
  - if current_page?(controller: 'diaries', action: 'new')
    = diary.submit '記録する' ,class:'common-form__submit'
  - else
    = diary.submit '変更する' ,class:'common-form__submit'
